<?xml version='1.0'?>
<ns2:test-suite xmlns:ns2='urn:model.allure.qatools.yandex.ru' start='1609765510503' stop='1609765540770'>
    <name>Login to ZedRun with magic link</name>
    <title>Login to ZedRun with magic link</title>
    <test-cases>
        <test-case start='1609765510503' status='failed' stop='1609765539947'>
            <name>Open ZedRun page and input valid email to generate magic link</name>
            <title>Open ZedRun page and input valid email to generate magic link</title>
            <labels/>
            <parameters/>
            <steps/>
            <attachments/>
            <failure>
                <message>Error: page.waitForSelector: Target page, context or browser has been closed</message>
                <stack-trace>page.waitForSelector: Target page, context or browser has been closed: 
                    at Connection.sendMessageToServer (/Users/davidle/zed-automation/node_modules/playwright/lib/client/connection.js:69:15)
                    at Proxy.&lt;anonymous> (/Users/davidle/zed-automation/node_modules/playwright/lib/client/channelOwner.js:54:53)
                    at _wrapApiCall (/Users/davidle/zed-automation/node_modules/playwright/lib/client/frame.js:180:48)
                    at Frame._wrapApiCall (/Users/davidle/zed-automation/node_modules/playwright/lib/client/channelOwner.js:80:34)
                    at Frame.waitForSelector (/Users/davidle/zed-automation/node_modules/playwright/lib/client/frame.js:175:21)
                    at _attributeToPage (/Users/davidle/zed-automation/node_modules/playwright/lib/client/page.js:212:60)
                    at Page._attributeToPage (/Users/davidle/zed-automation/node_modules/playwright/lib/client/page.js:202:20)
                    at Page.waitForSelector (/Users/davidle/zed-automation/node_modules/playwright/lib/client/page.js:212:21)
                    at LoginPage.clickOnStartButton (/Users/davidle/zed-automation/pages/LoginPage.js:28:21)
                    at Object.test (/Users/davidle/zed-automation/tests/login/magicLink.test.js:33:21)</stack-trace>
            </failure>
        </test-case>
        <test-case start='1609765539947' status='failed' stop='1609765540765'>
            <name>Check mail inbox to get magic link</name>
            <title>Check mail inbox to get magic link</title>
            <labels/>
            <parameters/>
            <steps/>
            <attachments/>
            <failure>
                <message>TypeError: Cannot read property 'id' of undefined</message>
                <stack-trace>TypeError: Cannot read property 'id' of undefined
                    at APIRequest.getZedRunMessageId (/Users/davidle/zed-automation/utils/api/api.js:45:40)
                    at process._tickCallback (internal/process/next_tick.js:68:7)</stack-trace>
            </failure>
        </test-case>
        <test-case start='1609765540765' status='failed' stop='1609765540766'>
            <name>Open new browser with magic link</name>
            <title>Open new browser with magic link</title>
            <labels/>
            <parameters/>
            <steps/>
            <attachments/>
            <failure>
                <message>Error: browserContext.newPage: Target page, context or browser has been closed</message>
                <stack-trace>browserContext.newPage: Target page, context or browser has been closed: 
                    at Connection.sendMessageToServer (/Users/davidle/zed-automation/node_modules/playwright/lib/client/connection.js:69:15)
                    at Proxy.&lt;anonymous> (/Users/davidle/zed-automation/node_modules/playwright/lib/client/channelOwner.js:54:53)
                    at _wrapApiCall (/Users/davidle/zed-automation/node_modules/playwright/lib/client/browserContext.js:91:58)
                    at ChromiumBrowserContext._wrapApiCall (/Users/davidle/zed-automation/node_modules/playwright/lib/client/channelOwner.js:80:34)
                    at ChromiumBrowserContext.newPage (/Users/davidle/zed-automation/node_modules/playwright/lib/client/browserContext.js:88:21)
                    at PageFactory.newTab (/Users/davidle/zed-automation/utils/browser/pageFactory.js:34:35)
                    at process._tickCallback (internal/process/next_tick.js:68:7)</stack-trace>
            </failure>
        </test-case>
        <test-case start='1609765540767' status='failed' stop='1609765540769'>
            <name>Switch back to ZedRun page and verify login successful</name>
            <title>Switch back to ZedRun page and verify login successful</title>
            <labels/>
            <parameters/>
            <steps/>
            <attachments/>
            <failure>
                <message>TypeError: Cannot read property 'bringToFront' of undefined</message>
                <stack-trace>TypeError: Cannot read property 'bringToFront' of undefined
                    at LoginPage.bringToFront (/Users/davidle/zed-automation/pages/LoginPage.js:50:21)
                    at Object.test (/Users/davidle/zed-automation/tests/login/magicLink.test.js:60:22)
                    at Object.asyncJestTest (/Users/davidle/zed-automation/node_modules/jest-jasmine2/build/jasmineAsyncInstall.js:106:37)
                    at resolve (/Users/davidle/zed-automation/node_modules/jest-jasmine2/build/queueRunner.js:45:12)
                    at new Promise (&lt;anonymous>)
                    at mapper (/Users/davidle/zed-automation/node_modules/jest-jasmine2/build/queueRunner.js:28:19)
                    at promise.then (/Users/davidle/zed-automation/node_modules/jest-jasmine2/build/queueRunner.js:75:41)</stack-trace>
            </failure>
        </test-case>
    </test-cases>
</ns2:test-suite>